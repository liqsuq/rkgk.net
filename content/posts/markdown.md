---
title: "Hugoで使えるマークダウン記法の確認"
date: 2020-01-01T10:01:49+09:00
categories:
  - "メモ"
tags:
  - "Hugo"
  - "Markdown"
draft: false
---

マークダウンを解釈出来る何かを使う度に書いてる奴。マークダウンはパーサ毎に対応してる記法が違くて面倒…  
とはいっても近年はとりあえずCommonMarkには準拠してたり[ツール毎の対応記法をまとめてくれているサイト](https://www.markdownguide.org/tools/)があったりするので幾らかマシか。

<!--more-->

# ブロック要素とスパン要素について

マークダウンはHTML変換を前提として設計されているため、思想の根底にブロック/インライン要素の別があります。
ブロック要素とはつまるところ段落で、空行を挟んだ2つの文章は別の文章と判断され、ブロック要素の有効範囲となります。
スパン要素は文章中の特定部分に使用し、記号等で囲む形で使用します。

平文も同様に空行を挟むと段落として解釈されます。ただの改行はマークダウンの記述を整理するためのものと解釈され、変換された文章では改行されません。標準的な記法では行末で2つ以上のスペースを挟んだ上で改行すると認識されます。

※マークダウンパーサによってはエスケープシーケンス`/`の挿入で対応していたりHTMLの生タグ`<br>`を推奨していたりします。また設定で改行の挙動を変更出来るパーサも多く存在します。

段落自体もブロック要素であり、プレーンなブロック要素が段落だととれます。(実際html出力では`<p>`タグで囲んでいる)

```
↓この行と

↑この行は別のブロック要素(段落)です。

↓この行と
↑この行は同じブロック要素(段落)です。

同じブロック要素で改行したい場合は  
スペースを行末に2つ以上入力してください。
```

↓この行と

↑この行は別のブロック要素(段落)です。

↓この行と
↑この行は同じブロック要素(段落)です。

同じブロック要素で改行したい場合は\
スペースを行末に2つ以上入力してください。

表や箇条書き、引用文等の行頭で特定の記号を指定する記法はブロック要素として扱われます。そのためそれらの記法で書いた後平文に戻すためには空行を挟むと安全です。

```
- 箇条書きの後に
- 平文を書くと
同じブロック要素として扱われてしまうので

- 箇条書きの後
- 平文を書くには

空行を挟んで区別する必要があります
```

- 箇条書きの後に
- 平文を書くと
同じブロック要素として扱われてしまうので

- 箇条書きの後
- 平文を書くには

空行を挟んで区別する必要があります

# ブロック要素の記法
## 見出し
※Setextスタイルは割愛

```
# 見出し h1
## 見出し h2
### 見出し h3
#### 見出し h4
##### 見出し h5
###### 見出し h6
```

# 見出し h1
## 見出し h2
### 見出し h3
#### 見出し h4
##### 見出し h5
###### 見出し h6

## 水平線
```
---
******
______
- - - - -
```

---
******
______
- - - - -

## 引用
``` 
> 引用ブロックです
> ### 見出しも機能します
> > 引用ブロックはネスト可能です
> > > 親よりも多くの`>`記号を必要とします
>
> ネストから復帰します
```

> 引用ブロックです
> ### ヘッダも機能します
> > 引用ブロックはネスト可能です
> > > 親よりも多くの`>`記号を必要とします
>
> ネストから復帰します

## リスト(箇条書き)
番号なしリスト、番号つきリスト、定義リストがサポートされています。

### 番号なしリスト
```
- 箇条書き
  - ネスト可能
+ これも箇条書き
* これもこれも箇条書き
```

- 箇条書き
  - ネスト可能
+ これも箇条書き
* これもこれも箇条書き

### 番号つきリスト
```
1. hoge
2. fuga
    1. hogehoge
    2. fugafuga
    3. piyopiyo
3. piyo

`1.`以外の数字で始めるとその数字から数え上げます。

53. hoge
1.  fuga
```

1. hoge
2. fuga
    1. hogehoge
    2. fugafuga
    3. piyopiyo
3. piyo

`1.`以外の数字で始めるとその数字から数え上げます。

53. hoge
1. fuga

### 定義リスト
```
hoge
: hogeとは何か

fuga
: fugaとは何か
: fugaの初出

piyo
piyopiyo
: piyoとは何か
```

hoge
: hogeとは何か

fuga
: fugaとは何か
: fugaの初出

piyo
piyopiyo
: piyoとは何か

## 表
```
First Header | Second Header | Thrid Header 
-------------|---------------|-------------
Content Cell | Content Cell  | Content Cell 
Content Cell | Content Cell  | Content Cell 

| First Header | Second Header | Third Header |
|:-------------|:-------------:|-------------:|
| Content Cell | Content Cell  | Content Cell |
| Content Cell | Content Cell  | Content Cell |
```

First Header | Second Header | Thrid Header 
-------------|---------------|-------------
Content Cell | Content Cell  | Content Cell 
Content Cell | Content Cell  | Content Cell 

| First Header | Second Header | Third Header |
|:-------------|:-------------:|-------------:|
| Content Cell | Content Cell  | Content Cell |
| Content Cell | Content Cell  | Content Cell |

## コードブロック
`````````````
`````
コードブロック
```
ブロックした行よりも多い
バッククォートを入力するとブロックが終了します
`````

~~~
チルダも使用可
~~~
`````````````

`````
コードブロック
```
ブロック開始と同じ数のバッククォートを入力するとブロックが終了します
`````

~~~
チルダも使用可
~~~

## シンタックスハイライト
`````
``` ruby
def what?
  42
end
```
`````

``` ruby
def what?
  42
end
```

# スパン要素
## リンク
単純なリンクは次の様に作成できます。

```
<https://blog.rkgknet.org>  
ようこそ、[rkgknet](https://blog.rkgknet.org)へ!
ようこそ[我がブログ][blog]へ!
ようこそ[blog]へ!

[blog]: https://rkgknet.org "トップページ"
```

<https://blog.rkgknet.org>  
ようこそ、[rkgknet](https://blog.rkgknet.org)へ!  
ようこそ[我がブログ][blog]へ!  
ようこそ[blog]へ!

[blog]: https://rkgknet.org "トップページ"

## Linkify
```
https://blog.rkgknet.org
```

https://blog.rkgknet.org

## 画像
準備中

## 強調

1つのアスタリスクで囲まれた部位は強調されます。囲む文字を2つにすることで更に強調されます。強調はイタリックと同義であり更に日本語フォントのイタリックは斜体であることがほとんどです。斜体は強調の意をあまり成さないので**日本語を使用する限り基本強調はアスタリスク2つを使う**。

```
どうだ、*強調*されているだろう。  
おや、**更に強調**されているんじゃないか?
~~取り消し線もあります~~
```

どうだ、*強調*されているだろう。  
おや、**更に強調**されているんじゃないか?  
~~取り消し線もあります~~

## インラインコード
```
次に`echo "bionic" > .config`を実行してください
次に`` echo `lsb_release -cs` > .config ``を実行してください
```

次に`echo "bionic" > .config`を実行してください  
次に`` echo `lsb_release -cs` > .config ``を実行してください

## 脚注

脚注の記法は参照リンクの定義と似ています。角括弧、キャレット、脚注名で構成される脚注マーカーをスパン要素として配置し、テキストのどこかにブロック要素として脚注の定義を記述します。脚注の定義に複数のブロックを含む場合には4つのスペースかタブでインデントする必要があります。

~~~
脚注[^1]はこの様に書きます

[^1]: 
    脚注はここに定義します

    > ブロック引用も
    > ちゃんと脚注に含まれます
~~~

脚注[^1]はこの様に書きます

[^1]: 
    脚注はここに定義します

    > ブロック引用も
    > ちゃんと脚注に含まれます

# その他

## HTMLタグ

※Hugoが内部で使用しているマークダウンパーサgoldmarkはセキュリティ上の懸念から生HTMLタグを無視するみたいです。
有効にするにはconfig.toml(ないし適切なファイル)に次の設定が必要です。

```
[markup.goldmark.renderer]
  unsafe = true
```

~~test~~

機能しない場合もありますが、インライン要素のHTML生タグは大体機能するみたいです。
ただしマークダウン"らしさ"はなくなる。以下は使いそうなもの。

```
<ins>下線</ins>や<var>変数</var>はこの様に表現できます
```

<ins>下線</ins>や<var>変数</var>はこの様に表現できます

```
H<sub>2</sub>Oの様な下付き文字やE = MC<sup>2</sup>の様な上付き文字はこんな風に
```

H<sub>2</sub>Oの様な下付き文字やE = MC<sup>2</sup>の様な上付き文字はこんな風に

```
「ここで<kbd>Ctrl</kbd>+<kbd>C</kbd>を入力」の様なキーボードの表現もできます
```

「ここで<kbd>Ctrl</kbd>+<kbd>C</kbd>を入力」の様なキーボードの表現もできます

```
<address>
〒100-8111<br> 東京都千代田区<br> 千代田1-1
</address>
```

<address>
〒100-8111<br> 東京都千代田区<br> 千代田1-1
</address>

``` text
<q>ハングリーであれ。愚か者であれ。</q> ---<cite>Steve Jobs</cite>
```

<q>ハングリーであれ。愚か者であれ。</q> ---<cite>Steve Jobs</cite>

