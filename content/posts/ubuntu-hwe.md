---
title: "「UbuntuはLinuxカーネルをガンガン上げる」と言う勘違い"
date: 2022-04-07T11:40:38+09:00
categories:
  - "Linux"
tags:
  - "Linux"
  - "Ubuntu"
  - "HWE"
draft: false
---

掲題の通り、特にUbuntu 18.04の時にLinuxカーネルのメジャーバージョンが4系から5系に上がっていたので「Ubuntuはそういうドラスティックなこともやるディストロなんだなぁ」と思ってたけど、それはHWEパッケージを利用しての話。

<!--more-->

# HWEカーネルパッケージ
18.04.1等のポイントリリース移行のインストーラを使用しているとカーネルパッケージはHWE版を採用している。
メタパッケージlinux-generic-hwe-18.04から依存してインストールされるHWE版は次のLTSリリースまでのカーネル更新が取り込まれメジャー/マイナーバージョンがぐんぐん上がる。

カーネルの版が上がることは大体の場合良いことだけれども、18.04ではメジャーバージョンが4から5に上がってちょっとドキッとした。これを避けたいなら18.04の一番最初のリリースを使いましょうって話。

# 20.04からはポイントリリースでなくともHWEに
…と思ってたらUbuntu20.04からはポイントリリースでない一番最初のリリースでは勝手にHWEカーネルを使ってしまうそうで、非HWE版を使い続けたい場合はそちらをインストールしてHWE版を削除するとのこと。

まぁそもそも完全にバージョン固定したいなら自動アップデート無効とか幾らでもやり様はあるし非HWE版でもパッチバージョンは上がるので、「メジャー/マイナーバージョンは上げて欲しくないけどセキュリティ上の懸念からパッチバージョンはよしなにやって欲しい」みたいな多少ニッチなケースでのみ必要かなと。
カスタムカーネル使ってる場合は公式カーネルの変更にかかわらずカスタムカーネルでブートする設定してるはずだし。

# 参考
[第526回　Ubuntuで最新のカーネルをお手軽にビルドする方法：Ubuntu Weekly Recipe｜gihyo.jp … 技術評論社](https://gihyo.jp/admin/serial/01/ubuntu-recipe/0526?page=1)
[Ubuntu 20.04 LTSとHWEカーネル](https://zenn.dev/ikuya/articles/be6af2948d4b67)